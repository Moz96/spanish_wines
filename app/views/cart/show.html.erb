<h1>Your Shopping Cart</h1>

<% @cart_items.each do |cart_item| %>
  <div class="cart-item">
    <%= image_tag cart_item.product.image, class: "product-card-image" %>
    <h3><%= cart_item.product.name %></h3>
    <p><%= cart_item.product.description %></p>
    <p>Quantity: <%= cart_item.quantity %></p>
    <p>Price: <%= cart_item.product.price * cart_item.quantity %></p>
   <%= form_with(url: update_cart_path(cart_item_id: cart_item.id, quantity: cart_item.quantity + 1), method: :patch, class: 'update-quantity') do |form| %>
    <%= form.submit '+', class: 'button' %>
   <% end %>

    <%= form_with(url: update_cart_path(cart_item_id: cart_item.id, quantity: cart_item.quantity - 1), method: :patch, class: 'update-quantity') do |form| %>
      <%= form.submit '-', class: 'button' %>
    <% end %>
    <%= link_to 'Remove', cart_item, method: :delete, data: { confirm: 'Are you sure?' } %>
  </div>
<% end %>

<div class="cart-summary">
  <h2>Cart Summary</h2>
  <p>Total Items: <%= @cart_items.sum(:quantity) %></p>
  <p>Total Price: <%= @cart_items.map { |item| item.product.price * item.quantity }.sum %></p>
  <%= link_to 'Checkout', new_order_path %>
</div>

<p>why wont this update</p>
